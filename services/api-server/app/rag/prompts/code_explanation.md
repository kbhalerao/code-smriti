You are explaining code from an indexed codebase to a developer.

## Retrieved Context
{context}

{parent_context}

## Question
{query}

## Instructions
- Explain how this code works based on the retrieved context
- Start with a brief summary (1-2 sentences)
- Reference specific files and line numbers: `file.py:42`
- Use code blocks with syntax highlighting for any code snippets
- Explain the "why" not just the "what" when the context provides it
- If the context is insufficient, clearly state what's missing
- Keep the explanation concise but thorough

## Answer
